<!doctype html>
<html lang="zh-cmn-Hans">
<head>
    <title>{$shop['name']}</title>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <script defer="">
        !function(e, t) {
            function i() {
                var t = n.getBoundingClientRect().width;
                t / m > 540 && (t = 540 * m);
                var i = t / 10;
                n.style.fontSize = i + "px",
                s.rem = e.rem = i
            }
            var a, r = e.document,
            n = r.documentElement,
            o = r.querySelector('meta[name="viewport"]'),
            l = r.querySelector('meta[name="flexible"]'),
            m = 0,
            d = 0,
            s = t.flexible || (t.flexible = {});
            if (o) {
                console.warn("将根据已有的meta标签来设置缩放比例");
                var p = o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);
                p && (d = parseFloat(p[1]), m = parseInt(1 / d))
            } else if (l) {
                var c = l.getAttribute("content");
                if (c) {
                    var u = c.match(/initial\-dpr=([\d\.]+)/),
                    f = c.match(/maximum\-dpr=([\d\.]+)/);
                    u && (m = parseFloat(u[1]), d = parseFloat((1 / m).toFixed(2))),
                    f && (m = parseFloat(f[1]), d = parseFloat((1 / m).toFixed(2)))
                }
            }
            if (!m && !d) {
                var v = e.navigator.appVersion.match(/android/gi),
                h = e.chrome,
                x = e.navigator.appVersion.match(/iphone|ipad/gi),
                b = e.devicePixelRatio,
                w = (v || x) && h;
                m = x || w ? b >= 3 && (!m || m >= 3) ? 3 : b >= 2 && (!m || m >= 2) ? 2 : 1 : 1,
                d = 1 / m
            }
            if (n.setAttribute("data-dpr", m), !o) if (o = r.createElement("meta"), o.setAttribute("name", "viewport"), o.setAttribute("content", "initial-scale=" + d + ", maximum-scale=" + d + ", minimum-scale=" + d + ", user-scalable=no"), n.firstElementChild) n.firstElementChild.appendChild(o);
            else {
                var g = r.createElement("div");
                g.appendChild(o),
                r.write(g.innerHTML)
            }
            e.addEventListener("resize",
            function() {
                clearTimeout(a),
                a = setTimeout(i, 300)
            },
            !1),
            e.addEventListener("pageshow",
            function(e) {
                e.persisted && (clearTimeout(a), a = setTimeout(i, 300))
            },
            !1),
            "complete" === r.readyState ? r.body.style.fontSize = 12 * m + "px": r.addEventListener("DOMContentLoaded",
            function(e) {
                r.body.style.fontSize = 12 * m + "px"
            },
            !1),
            i(),
            s.dpr = e.dpr = m,
            s.refreshRem = i,
            s.rem2px = function(e) {
                var t = parseFloat(e) * this.rem;
                return "string" == typeof e && e.match(/rem$/) && (t += "px"),
                t
            },
            s.px2rem = function(e) {
                var t = parseFloat(e) / this.rem;
                return "string" == typeof e && e.match(/px$/) && (t += "rem"),
                t
            }
        } (window, window.lib || (window.lib = {}))</script>
    <meta name="viewport" content="initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no">
    <script src="/assets/js/flexible.js" crossorigin="anonymous"></script>
    <!--<script src="/assets/js/mainfest.js" crossorigin="anonymous"></script>-->
    <!--<script src="/assets/js/perf.min.js" crossorigin="anonymous"></script>-->
    <link href="/assets/css/vendor.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/shop.css" rel="stylesheet">
</head>

<body>

{include file="common/svg.html"}
<div class="main">
    <div>
        <div class="shop-header-container_qVoLT_0">
            <div class="shop-header-background_2cwiR_0" style="background:url(/assets/image/shop_head_bg.png);">
            </div> 
            <nav class="shop-header-navBar_ibFIP_0">
                <a href="/order">
                    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-left"></use>
                    </svg>
                </a>
            </nav> 
            <div class="shop-header-main_1B2kH_0">
                <img class="shop-header-logo_3woDQ_0" src="{$shop.cover_img}"> 
                <div class="shop-header-content_3UjPs_0">
                    <h2 class="shop-header-shopName_2QrHh_0">{$shop.name}</h2> 
                    
                    {if !empty($shop.delivery)}
                    <p class="shop-header-delivery_1mcTe_0">
                        <span class="shop-header-deliveryItem_Fari3_0">
                            {$shop.delivery}
                        </span> 
                    </p>
                    {/if} 
                {if !empty($shop.notice)}                    
                <div class="shop-header-notice_2DzmG_0">
                    <span>公告：</span>
                    <span>{$shop.notice}</span>
                </div>
                {/if}
            </div> 
            <svg class="shop-header-detailIcon_1IXZI_0"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-right"></use></svg>
        </div> 
        
        {if !empty($shop.activity)}
        <div class="shop-header-activities_3NWG9_0">
            <div class="activity-activityWrap_1u6b1_0 activity-nowrap_2JDU4_0 shop-header-activityRow_fbfAg_0">
                <i class="activity-activityIcon_1iJyG_0" style="background-color: rgb(112, 188, 70); color: rgb(255, 255, 255); border-color: rgb(112, 188, 70);">
                    {$shop.activity.icon}
                </i> 
                <span class="activity-description_2q8qg_0">
                    <span>{$shop.activity.desc}</span> 
                </span>
            </div> 
            <!--<div class="shop-header-activityCount_tCsbf_0">
                {$shop.activity|count}个活动
            </div>-->
        </div>
        {/if}
</div> 

<div>
    <div class="shop-tab-container_3skq8_0">
        <!--<div class="shop-tab-tab_r4SDi_0 shop-tab-active_ZY0C0_0">
            <span class="shop-tab-title_1crD1_0">
                商品
            </span>
        </div>
        <div class="shop-tab-tab_r4SDi_0">
            <span class="shop-tab-title_1crD1_0">
                评价
            </span>
        </div>-->
    </div> 
</div>

<div class="menuview-2hUkG" style="height:1120px">
    {if $shop.status eq 0 }
    <div class="menuview-2iJo3">
        <img src="//github.elemecdn.com/eleme/fe-static/1cb05f59/media/empty/no-food.png" /> 
        <p>{$shop.notice}</p>
    </div>
    {elseif empty($categoryProduct)}
    <div class="menuview-2iJo3">
        <img src="//github.elemecdn.com/eleme/fe-static/1cb05f59/media/empty/no-food.png" /> 
        <p>没有商品</p> 
        <p>该商家还未上传商品</p>
    </div>
    {else}

    <div class="menuview-17K3g">
    <main class="menuview-i6fQ3">

        <!--left-->
        <ul class="menucategory-29kyE menuview-2_lFf" id="categoryList">
            <!--<li class="menucategory-JnDmc menucategory-2MBNs menucategory-3e27M">
                <img src="//fuss10.elemecdn.com/5/da/3872d782f707b4c82ce4607c73d1ajpeg.jpeg" class="menucategory-375ij" /> <span class="menucategory-qwsbd">热销榜</span>
            </li>-->
            {foreach from=$categoryProduct item=category name=cate}
            <li class="menucategory-3e27M {if $smarty.foreach.cate.first}menucategory-JnDmc{/if}" tag='li' data-id="{$category.categoryId}">
                
                <span class="menucategory-28BIn" tag="count"></span>
                <span class="menucategory-qwsbd">{$category.categoryName}</span>
            </li>
            {/foreach}
        </ul>

        <!--right-->
        <section data-v-81584c58="" class="container menuview-JqDMu" id="productList">
            <div data-v-81584c58="" class="scroller">
                {foreach from = $categoryProduct item=category}
                <dl data-v-81584c58="" class="" data-category="{$category['categoryId']}">
                    <dt data-v-81584c58="">
                        <div data-v-81584c58="" class="category-title">
                            <strong data-v-81584c58="" class="category-name">{$category['categoryName']}</strong> 
                            <span data-v-81584c58="" class="category-description">{$category['categoryDesc']}</span>
                        </div> 
                    </dt>
                    {foreach from=$category['productList'] item=product}
                    <dd data-v-81584c58="" class="productDetail">
                        <span data-v-81584c58="" class="foodimg">
                            <img data-v-81584c58="" src="{$product['cover_img']}" />
                        </span> 
                        <section data-v-81584c58="" class="foodinfo">
                            <header data-v-81584c58="" class="foodtitle">
                                <span data-v-81584c58="">{$product['name']}</span> 
                            </header> 
                            <p data-v-81584c58="" class="fooddescription">{$product['desc']}</p> 
                            <p data-v-81584c58="" class="foodsales">
                                <!--<span data-v-81584c58="">月售403份</span> 
                                <span data-v-81584c58="">好评率90%</span>-->
                            </p> 
                            <strong data-v-81584c58="" class="foodprice">
                                <span data-v-81584c58="">{$product['price']}</span> 
                            </strong>

                            {if $product['stock'] gt 0}
                            <div data-v-81584c58="" class="cartbutton" data-id="{$product['id']}" data-stock="{$product['stock']}" data-price="{$product['price']}">
                                <span data-v-81584c58="">
                                    <span class="cartbutton-2tycR">
                                        <a href="javascript:" class="minus" tag="minus" style="display: none">
                                            <svg><use xlink:href="#cart-add"></use></svg>
                                        </a> 
                                        <span class="cartbutton-2OSi7 count" tag="count">0</span>
                                        <a href="javascript:" class="plus" tag="plus">
                                            <svg><use xlink:href="#cart-minus"></use></svg>
                                        </a>
                                    </span>
                                </span>
                            </div>
                            {/if}
                        </section>
                    </dd>
                    {/foreach}
                </dl>
                {/foreach}
            </div>
        </section>
    </main>

    <!--购物车-->
    <div>
        <footer class="cartview-216zx">

            <!--mask-->
            <div class="cartview-bIr0V" style="z-index: 10; display: none;" id="mask">
            </div>

            <!--car list-->
            <div class="cartview-JFaw9" style="z-index: 11; display: none;" id="shopCarList">
                <div class="cartview-37dYf">
                    <span class="cartview-2IL0z">购物车</span> 
                    <a href="javascript:" class="cartview-3ElqP" id="emptyShopCar">
                        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cart-remove"></use></svg>
                        <span>清空</span>
                    </a>
                </div> 
                <div class="cartview-2cVz8">
                    <ul class="cartview-2vksF">
                        <li class="cartview-17WwB">
                            <span class="cartview-2eWUL">
                                <em class="cartview-5hJ9d">吉味双拼饭</em> 
                                <p class="cartview-1urbT"> </p>
                            </span> 
                            <span class="cartview-M-60p">32.5</span> 
                            <span class="cartview-yTaX3">
                                <span class="cartbutton-2tycR">
                                    <a href="javascript:"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cart-add"></use></svg></a> 
                                    <span class="cartbutton-2OSi7">1</span> 
                                    <a href="javascript:"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cart-minus"></use></svg></a>
                                </span>
                            </span>
                        </li>
                    </ul>
                </div>
            </div> 

            <div class="cartview-1jf7D" style="z-index: 11;">
                    <!--cartview-XwoZE 灰色-->
                    <!--attr-quantity 数量-->
                    <span attr-quantity="0" class="cartview-aZYUv" id="shopCar">
                    </span>
                    <div>
                        <p class="cartview-1e1-r" id="totalPrice">¥0</p> 
                        {if !empty($shop.delivery_fee)}
                        <p class="cartview-3w26Z">配送费¥{$shop.delivery_fee}</p>
                        {/if}
                    </div> 
                    
                    <!--cartview--ijcs 灰色和绿色-->
                    <a href="javascript:" class="cartview-3Obmk cartview--ijcs" id="submit">去结算</a>
            </div>
        </footer>
    </div>
    {/if}

    <script type="text/javascript">
        var product = {$product};
        var productCategoryIndex = {$productCategoryIndex};
    </script>
    <script src="/assets/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/js/shop.js?t=17060502"></script>
</div>
</body>
</html>